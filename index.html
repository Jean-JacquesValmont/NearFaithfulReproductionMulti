<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  <link href="./src/output.css" type="text/css" rel="stylesheet">
    <title>Near Faithful Reproduction</title>
</head>
<body class="bg-[url('../image/background_NFR.png')]">

    <div class="menu flex flex-col justify-center items-center m-2">
        <h1 class="text-center text-[6rem] font-bold mt-8 mb-16 p-4">Near Faithful Reproduction</h1>
        <div class="w-120 flex flex-col justify-center items-center text-white border-4 border-[#33FFD3] p-16 bg-[#3100D3]">
          <input class="m-2 p-2 border-2 border-white bg-black" type="text" id="namePlayer" placeholder="Enter your name" value="">
          <div>
            <select id="partieSelect" class="p-2 border-2 border-white bg-black">
              <option value="ChacunPourSoi">Chacun pour soi</option>
            </select>
            <button id="createRoom" class="w-36 ml-2 p-2 border-2 border-white bg-black hover:bg-white hover:border-black hover:text-black">Create Room</button>
          </div>
          <div class="flex justify-center p-4">
            <input class="ml-2 p-2 border-2 border-white bg-black" type="text" id="roomId" placeholder="Enter Room ID" value="">
            <button id="joinRoom" class="ml-2 p-2 border-2 border-white bg-black  hover:bg-white hover:border-black hover:text-black">Join Room</button>
          </div>
        </div>
        <div class="w-[80rem] flex flex-col justify-center text-center mt-4 p-4 text-white border-4 border-[#33FFD3] bg-[#3100D3]">
          <h3 class="text-4xl p-4 underline">Règles du jeu</h3>
          <p class="p-2">Vous devez avoir le plus de pixels identiques à l'image qui vous sera donnée pour gagner.</p>
          <p class="p-2">Pour cela, il faudra la dessiner le plus fidèlement possible avec un minimum d'outils et de couleurs à votre disposition.</p>
          <p class="p-2">Le joueur ayant le pourcentage le plus élevé remporte la partie.</p>
        </div>
    </div>

    <div class="roomMenu hidden flex-col justify-center items-center text-white">
      <h2 class="text-center text-[4rem] font-bold m-4 p-4 bg-[#3100D3]">Chacun pour soi</h2>
      <div class=" flex flex-col justify-center items-center border-4 border-[#33FFD3] bg-[#3100D3] m-2">
        <p id="errorCopyID"></p>
        <div class="flex items-center align-middle m-2">
          <button id="copyID" class="m-2 p-2 border-2 border-white bg-black  hover:bg-white hover:border-black hover:text-black">Copy ID</button>
          <h4 class="text-2xl font-bold mr-2">Room ID:</h4>
          <h4 id="nameRoomId" class=""></h4>
          <button id="leaveRoom" class="m-2 p-2 border-2 border-white bg-black  hover:bg-white hover:border-black hover:text-black">Leave room</button>
        </div>
      
        <div class="w-full flex justify-between">
          <div class="flex flex-col ml-4 mr-4">
            <p class="text-xl font-bold mb-2">Players</p>
            <div id="player" class=""></div>
          </div>

          <div class="w-full flex flex-col justify-center items-center">
            <p class="text-xl font-bold mb-2">Select Options </p>
            <p class="text-md font-bold mb-2">Game</p>
            <div class="">
              <div class="flex justify-between">
                <p class="mr-4">Nombre de joueurs:</p>
                <select id="numberOfPlayer" class="numberOfPlayerClass p-2 border-2 border-white bg-black">
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                </select>
                <p id="numberOfPlayerText" class="numberOfPlayerTextClass">2</p>
              </div>
              <div class="flex justify-between">
                <p class="mr-4">Timer (en seconde):</p>
                <select id="timerSelect" class="timerSelectClass p-2 border-2 border-white bg-black">
                  <option value="5">5</option>
                  <option value="10">10</option>
                  <option value="30">30</option>
                  <option value="45">45</option>
                  <option value="60" selected>60</option>
                  <option value="90">90</option>
                  <option value="120">120</option>
                  <option value="150">150</option>
                  <option value="180">180</option>
                </select>
                <p id="timerText" class="timerTextClass">60</p>
              </div>
              <div class="flex justify-between">
                <p class="mr-4">Nombre de manche:</p>
                <select id="roundSelect" class="roundSelectClass p-2 border-2 border-white bg-black">
                  <option id="optionNumberofRoundOne" value=1>1</option>
                  <option value=2>2</option>
                  <option value=3>3</option>
                  <option value=4>4</option>
                  <option value=5>5</option>
                </select>
                <p id="roundText" class="roundTextClass">1</p>
              </div>
              <div class="flex justify-between">
                <p class="mr-4">Précision:</p>
                <select id="precisionSelect" class="precisionSelectClass p-2 border-2 border-white bg-black">
                  <option value="0">0</option>
                  <option value="1">1</option>
                  <option value="2" selected>2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                </select>
                <p id="precisionText" class="precisionTextClass">2</p>
              </div>
              <div class="flex justify-between">
                <p class="mr-4">Tolérance:</p>
                <select id="toleranceSelect" class="toleranceSelectClass p-2 border-2 border-white bg-black">
                  <option value="0">0</option>
                  <option value="10">10</option>
                  <option value="20">20</option>
                  <option value="30">30</option>
                  <option value="40">40</option>
                  <option value="50" selected>50</option>
                  <option value="60">60</option>
                  <option value="70">70</option>
                  <option value="80">80</option>
                </select>
                <p id="toleranceText" class="toleranceTextClass">50</p>
              </div>
              <div class="flex justify-between">
                <p class="mr-4">Condition de victoire:</p>
                <select id="victoryConditionSelect" class="victoryConditionSelectClass p-2 border-2 border-white bg-black">
                  <option value="hight">Le plus haut pourcentage</option>
                  <option value="average">Moyenne des pourcentages</option>
                </select>
                <p id="victoryConditionText" class="victoryConditionTextClass">1</p>
              </div>
            </div>

            <p class="text-md font-bold mb-2">Canvas</p>
            <div>
              <div class="flex justify-between">
                  <p class="mr-4">Longueur:</p>
                  <select id="widthSelect" class="widthSelectClass p-2 border-2 border-white bg-black">
                    <option value=100>100</option>
                    <option value=200>200</option>
                    <option value=300>300</option>
                    <option value=400>400</option>
                    <option value=500 selected>500</option>
                    <option value=600>600</option>
                    <option value=700>700</option>
                  </select>
                  <p id="widthText" class="widthTextClass">500</p>
              </div>
              <div class="flex justify-between">
                  <p class="mr-4">Hauteur:</p>
                  <select id="heightSelect" class="heightSelectClass p-2 border-2 border-white bg-black">
                    <option value=100>100</option>
                    <option value=200>200</option>
                    <option value=300>300</option>
                    <option value=400 selected>400</option>
                    <option value=500>500</option>
                    <option value=600>600</option>
                    <option value=700>700</option>
                  </select>
                  <p id="heightText" class="heightTextClass">400</p>
              </div>
              <div class="flex justify-between">
                <p class="mr-4">Type d'image:</p>
                <select id="categorySelect" class="categorySelectClass p-2 border-2 border-white bg-black">
                  <option value="">Tous</option>
                  <option value="nature">Nature</option>
                  <option value="city">Ville</option>
                  <option value="technology">Technologie</option>
                  <option value="food">Nourriture</option>
                  <option value="still_life">Nature morte</option>
                  <option value="abstract">Art abstrait</option>
                  <option value="wildlife">Vie sauvage</option>
                </select>
                <p id="categoryText" class="categoryTextClass">Tous</p>
              </div>
            </div>
            <button id="fetchImageButton" class="fetchImageButtonClass m-2 p-2 border-2 text-white border-white bg-black  hover:bg-white hover:border-black hover:text-black">Fetch Image</button>
            
          </div>
        </div>
      </div>

      <div class="buttonStartGame flex justify-center items-center">
        <button id="startGame" class="m-2 p-2 border-2 text-white border-white bg-black  hover:bg-white hover:border-black hover:text-black">Start Game</button>
      </div>
    </div>

    <div class="game hidden flex-col justify-center items-center">
      <h2 class="text-white text-center text-[2rem] m-4 p-4 bg-[#3100D3]">A toi de jouer!</h2>
      <div class="flex bg-[#3100D3] border-2 border-[#33FFD3] text-white">
        <p id="round" class="text-[1.5rem] font-bold p-2">Manche: 1</p>
        <p id="timer" class="text-[1.5rem] font-bold p-2">Timer: 60</p>
      </div>
      <div class="flex">
        <canvas id="canvasImageFetch" class="bg-white border-4 border-[#33FFD3]" width="500" height="400"></canvas>
        <canvas id="canvas" class="bg-white border-4 border-[#33FFD3]" width="500" height="400"></canvas>
      </div>
      <div class="flex justify-center items-center">
          <div class="flex flex-col p-2">
              <select id="toolSelect" class="p-2 border-2 border-white bg-black text-white">
                <option value="brush">Pinceau</option>
                <option value="line">Ligne droite</option>
                <option value="paintBucket">Pot de peinture</option>
                <option value="eraser">Gomme</option>
            </select>
          </div>
          <div class="flex flex-col p-2">
              <select id="brushSizeSelect" class="p-2 border-2 border-white bg-black text-white">
                <option value="1">1px</option>
                <option value="3">3px</option>
                <option value="5">5px</option>
                <option value="7">7px</option>
                <option value="10" selected>10px</option>
                <option value="15">15px</option>
                <option value="20">20px</option>
                <option value="30">30px</option>
                <option value="50">50px</option>
            </select>
          </div>
          <canvas id="colorSelect" class="mt-2 ml-2 border-2 border-black" width="40" height="40"></canvas>
          <div class="pb-2 px-2 mt-2 ml-2 bg-[#3100D3]">
            <div class="w-60">
                <button id="color0" class="bg-white text-white p-2 border-2 border-black"></button>
                <button id="color1" class="bg-gray-300 p-2 border-2 border-black"></button>
                <button id="color2" class="bg-red-300 p-2 border-2 border-black"></button>
                <button id="color3" class="bg-orange-300 p-2 border-2 border-black"></button>
                <button id="color4" class="bg-yellow-300 p-2 border-2 border-black"></button>
                <button id="color5" class="bg-green-300 p-2 border-2 border-black"></button>
                <button id="color6" class="bg-cyan-300 p-2 border-2 border-black"></button>
                <button id="color7" class="bg-blue-300 p-2 border-2 border-black"></button>
                <button id="color8" class="bg-purple-300 p-2 border-2 border-black"></button>
                <button id="color9" class="bg-pink-300 p-2 border-2 border-black"></button>
            </div>
            <div class="w-60">
              <button id="color10" class="bg-amber-900 p-2 border-2 border-black"></button>
              <button id="color11" class="bg-gray-500 p-2 border-2 border-black"></button>
              <button id="color12" class="bg-red-500 p-2 border-2 border-black"></button>
              <button id="color13" class="bg-orange-500 p-2 border-2 border-black"></button>
              <button id="color14" class="bg-yellow-500 p-2 border-2 border-black"></button>
              <button id="color15" class="bg-green-500 p-2 border-2 border-black"></button>
              <button id="color16" class="bg-cyan-500 p-2 border-2 border-black"></button>
              <button id="color17" class="bg-blue-500 p-2 border-2 border-black"></button>
              <button id="color18" class="bg-purple-500 p-2 border-2 border-black"></button>
              <button id="color19" class="bg-pink-500 p-2 border-2 border-black"></button>
            </div>
            <div class="w-60">
                <button id="color20" class="bg-black p-2 border-2 border-black"></button>
                <button id="color21" class="bg-gray-700 p-2 border-2 border-black"></button>
                <button id="color22" class="bg-red-700 p-2 border-2 border-black"></button>
                <button id="color23" class="bg-orange-700 p-2 border-2 border-black"></button>
                <button id="color24" class="bg-yellow-700 p-2 border-2 border-black"></button>
                <button id="color25" class="bg-green-700 p-2 border-2 border-black"></button>
                <button id="color26" class="bg-cyan-700 p-2 border-2 border-black"></button>
                <button id="color27" class="bg-blue-700 p-2 border-2 border-black"></button>
                <button id="color28" class="bg-purple-700 p-2 border-2 border-black"></button>
                <button id="color29" class="bg-pink-700 p-2 border-2 border-black"></button>
            </div>
          </div>
          <div class="flex p-2">
              <button id="clearAll" class="w-36 mx-2 p-2 border-2 border-white bg-black text-white hover:bg-white hover:border-black hover:text-black">Tout effacer</button>
              <button id="undoButton" class="w-36 mx-2 p-2 border-2 border-white bg-black text-white hover:bg-white hover:border-black hover:text-black">Retour en arrière</button>
          </div>
      </div>
    </div>

    <div class="finalResult hidden flex-col justify-center items-center">
      <h2 class="text-white text-center text-[4rem] m-4 p-4 bg-[#3100D3]">Résultat</h2>
      <canvas id="canvasImageFetchResult" class="bg-white border-8 border-[#33FFD3]" width="500" height="400"></canvas>
      <div class="flex flex-wrap justify-center items-center text-white">

        <div class="resultPlayer1Class flex flex-col justify-center items-center px-2 m-2 bg-[#3100D3]">
          <p id="namePlayer1" class="text-2xl p-2">Player 1</p>
          <canvas id="canvasPlayer1" class="bg-white border-8 border-[#33FFD3]" width="500" height="400"></canvas>
          <div class="w-full bg-gray-200 rounded-full mt-2">
            <div id="progressBarPlayer1" class="h-4 bg-green-500 rounded-full"></div>
          </div>
          <p id="samePixelTextPlayer1" class="text-2xl p-2">Pourcentage de pixels identiques : 0%</p>
        </div>

        <div class="resultPlayer2Class flex flex-col justify-center items-center px-2 m-2 bg-[#3100D3]">
          <p id="namePlayer2" class="text-2xl p-2">Player 2</p>
          <canvas id="canvasPlayer2" class="bg-white border-8 border-[#33FFD3]" width="500" height="400"></canvas>
          <div class="w-full bg-gray-200 rounded-full mt-2">
            <div id="progressBarPlayer2" class="h-4 bg-green-500 rounded-full"></div>
          </div>
          <p id="samePixelTextPlayer2" class="text-2xl p-2">Pourcentage de pixels identiques : 0%</p>
        </div>

        <div class="resultPlayer3Class flex flex-col justify-center items-center px-2 m-2 bg-[#3100D3]">
          <p id="namePlayer3" class="text-2xl p-2">Player 3</p>
          <canvas id="canvasPlayer3" class="bg-white border-8 border-[#33FFD3]" width="500" height="400"></canvas>
          <div class="w-full bg-gray-200 rounded-full mt-2">
            <div id="progressBarPlayer3" class="h-4 bg-green-500 rounded-full"></div>
          </div>
          <p id="samePixelTextPlayer3" class="text-2xl p-2">Pourcentage de pixels identiques : 0%</p>
        </div>

        <div class="resultPlayer4Class flex flex-col justify-center items-center px-2 m-2 bg-[#3100D3]">
          <p id="namePlayer4" class="text-2xl p-2">Player 4</p>
          <canvas id="canvasPlayer4" class="bg-white border-8 border-[#33FFD3]" width="500" height="400"></canvas>
          <div class="w-full bg-gray-200 rounded-full mt-2">
            <div id="progressBarPlayer4" class="h-4 bg-green-500 rounded-full"></div>
          </div>
          <p id="samePixelTextPlayer4" class="text-2xl p-2">Pourcentage de pixels identiques : 0%</p>
        </div>

        <div class="resultPlayer5Class flex flex-col justify-center items-center px-2 m-2 bg-[#3100D3]">
          <p id="namePlayer5" class="text-2xl p-2">Player 5</p>
          <canvas id="canvasPlayer5" class="bg-white border-8 border-[#33FFD3]" width="500" height="400"></canvas>
          <div class="w-full bg-gray-200 rounded-full mt-2">
            <div id="progressBarPlayer5" class="h-4 bg-green-500 rounded-full"></div>
          </div>
          <p id="samePixelTextPlayer5" class="text-2xl p-2">Pourcentage de pixels identiques : 0%</p>
        </div>

        <div class="resultPlayer6Class flex flex-col justify-center items-center px-2 m-2 bg-[#3100D3]">
          <p id="namePlayer6" class="text-2xl p-2">Player 6</p>
          <canvas id="canvasPlayer6" class="bg-white border-8 border-[#33FFD3]" width="500" height="400"></canvas>
          <div class="w-full bg-gray-200 rounded-full mt-2">
            <div id="progressBarPlayer6" class="h-4 bg-green-500 rounded-full"></div>
          </div>
          <p id="samePixelTextPlayer6" class="text-2xl p-2">Pourcentage de pixels identiques : 0%</p>
        </div>

        <div class="resultPlayer7Class flex flex-col justify-center items-center px-2 m-2 bg-[#3100D3]">
          <p id="namePlayer7" class="text-2xl p-2">Player 7</p>
          <canvas id="canvasPlayer7" class="bg-white border-8 border-[#33FFD3]" width="500" height="400"></canvas>
          <div class="w-full bg-gray-200 rounded-full mt-2">
            <div id="progressBarPlayer7" class="h-4 bg-green-500 rounded-full"></div>
          </div>
          <p id="samePixelTextPlayer7" class="text-2xl p-2">Pourcentage de pixels identiques : 0%</p>
        </div>

        <div class="resultPlayer8Class flex flex-col justify-center items-center px-2 m-2 bg-[#3100D3]">
          <p id="namePlayer8" class="text-2xl p-2">Player 8</p>
          <canvas id="canvasPlayer8" class="bg-white border-8 border-[#33FFD3]" width="500" height="400"></canvas>
          <div class="w-full bg-gray-200 rounded-full mt-2">
            <div id="progressBarPlayer8" class="h-4 bg-green-500 rounded-full"></div>
          </div>
          <p id="samePixelTextPlayer8" class="text-2xl p-2">Pourcentage de pixels identiques : 0%</p>
        </div>

      </div>
      <p class="text-2xl font-bold p-2 text-white bg-[#3100D3]">Victoire</p>
      <p id="winnerText" class="text-2xl p-2 text-white bg-[#3100D3]"></p>
      <button id="returnMenu" class="m-2 p-2 border-2 border-white bg-black text-white  hover:bg-white hover:border-black hover:text-black">Retour au menu</button>
      <button></button>
    </div>
    
    <script src="/socket.io/socket.io.js"></script>
    <script src="/script.js"></script>
    <script src="/scriptGame.js"></script>
</body>
</html>